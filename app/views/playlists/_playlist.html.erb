<div style="background-color: rgba(255, 255, 255, 0.8); padding: 20px;"> <!-- Transparent white background and padding for the table -->

<% if logged_in? %> 

<%= link_to "Create a new playlist", new_playlist_path, style: "color: black;" %> 
<br><br>

<%= form_with(url: playlists_path, method: "get") do %>
  <%= text_field_tag :search, params[:search], placeholder: "Search by Title" %>
  <%= submit_tag "Search" %>
<% end %>


<% end %>

    <h1 style="color: black;">Playlists listing page</h1>

<style>
    table {
        width: 40%;
        color: black;
        border-collapse: collapse;
    }

    th, td {
        padding: 10px;
        text-align: center;
        border: 1px solid #ddd;
    }

    th {
        background-color: #e6e6fa;
    }

    .actions {
        width: auto;
        text-align: center;
    }

    .actions button {
        color: black;
        background-color: transparent;
        border: none;
        cursor: pointer;
        margin: 0 5px; /* Reduce margin to create space between buttons */
    }

    .button-container {
        display: flex;
        justify-content: center; /* Center align buttons horizontally */
    }

    @media screen and (max-width: 600px) {
        table {
            width: 100%;
        }
    }
</style>

<table>
    <thead>
        <tr>
            <th>Title</th>
            <th>Description</th>
            <th>Device</th>
            <th>Actions</th>
            <th>User</th>
        </tr>
    </thead>
    <tbody>
        <% @playlists.each do |playlist| %>
            <tr>
                <td><%= playlist.title %></td>
                <td><%= playlist.description %></td>
                <td><%= playlist.device&.name %></td>
                <td class="actions">
                    <div class="button-container">
                        <%= button_to 'Show', playlist_path(playlist), method: :get %>
                        <% if logged_in? && (playlist.user == current_user || current_user.admin?) %>
                            <%= button_to 'Edit', edit_playlist_path(playlist), method: :get %>
                            <%= button_to 'Delete', playlist_path(playlist), method: :delete, onclick: "return confirm('Are you sure you want to delete this playlist?');" %>
                        <% end %>
                    </div>
                </td>
                <td>
                    <% if playlist.user %>
                        <%= link_to playlist.user.username, user_path(playlist.user) %>
                    <% end %>
                </td>
            </tr>
        <% end %>
    </tbody>
</table>

</div>

  
